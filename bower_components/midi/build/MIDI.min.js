if(MIDI===void 0)var MIDI={};if(function(){"use strict";var e={},n=0,r=function(r){n++;var t=new Audio,o=r.split(";")[0];t.id="audio",t.setAttribute("preload","auto"),t.setAttribute("audiobuffer",!0),t.addEventListener("error",function(){e[o]=!1,n--},!1),t.addEventListener("canplaythrough",function(){e[o]=!0,n--},!1),t.src="data:"+r,document.body.appendChild(t)};MIDI.audioDetect=function(t){if("undefined"==typeof Audio)return t({});var o=new Audio;if(o.canPlayType===void 0)return t(e);var a=o.canPlayType('audio/ogg; codecs="vorbis"');a="probably"===a||"maybe"===a;var i=o.canPlayType("audio/mpeg");if(i="probably"===i||"maybe"===i,!a&&!i)return t(e),void 0;a&&r("audio/ogg;base64,T2dnUwACAAAAAAAAAADqnjMlAAAAAOyyzPIBHgF2b3JiaXMAAAAAAUAfAABAHwAAQB8AAEAfAACZAU9nZ1MAAAAAAAAAAAAA6p4zJQEAAAANJGeqCj3//////////5ADdm9yYmlzLQAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTAxMTAxIChTY2hhdWZlbnVnZ2V0KQAAAAABBXZvcmJpcw9CQ1YBAAABAAxSFCElGVNKYwiVUlIpBR1jUFtHHWPUOUYhZBBTiEkZpXtPKpVYSsgRUlgpRR1TTFNJlVKWKUUdYxRTSCFT1jFloXMUS4ZJCSVsTa50FkvomWOWMUYdY85aSp1j1jFFHWNSUkmhcxg6ZiVkFDpGxehifDA6laJCKL7H3lLpLYWKW4q91xpT6y2EGEtpwQhhc+211dxKasUYY4wxxsXiUyiC0JBVAAABAABABAFCQ1YBAAoAAMJQDEVRgNCQVQBABgCAABRFcRTHcRxHkiTLAkJDVgEAQAAAAgAAKI7hKJIjSZJkWZZlWZameZaouaov+64u667t6roOhIasBACAAAAYRqF1TCqDEEPKQ4QUY9AzoxBDDEzGHGNONKQMMogzxZAyiFssLqgQBKEhKwKAKAAAwBjEGGIMOeekZFIi55iUTkoDnaPUUcoolRRLjBmlEluJMYLOUeooZZRCjKXFjFKJscRUAABAgAMAQICFUGjIigAgCgCAMAYphZRCjCnmFHOIMeUcgwwxxiBkzinoGJNOSuWck85JiRhjzjEHlXNOSuekctBJyaQTAAAQ4AAAEGAhFBqyIgCIEwAwSJKmWZomipamiaJniqrqiaKqWp5nmp5pqqpnmqpqqqrrmqrqypbnmaZnmqrqmaaqiqbquqaquq6nqrZsuqoum65q267s+rZru77uqapsm6or66bqyrrqyrbuurbtS56nqqKquq5nqq6ruq5uq65r25pqyq6purJtuq4tu7Js664s67pmqq5suqotm64s667s2rYqy7ovuq5uq7Ks+6os+75s67ru2rrwi65r66os674qy74x27bwy7ouHJMnqqqnqq7rmarrqq5r26rr2rqmmq5suq4tm6or26os67Yry7aumaosm64r26bryrIqy77vyrJui67r66Ys67oqy8Lu6roxzLat+6Lr6roqy7qvyrKuu7ru+7JuC7umqrpuyrKvm7Ks+7auC8us27oxuq7vq7It/KosC7+u+8Iy6z5jdF1fV21ZGFbZ9n3d95Vj1nVhWW1b+V1bZ7y+bgy7bvzKrQvLstq2scy6rSyvrxvDLux8W/iVmqratum6um7Ksq/Lui60dd1XRtf1fdW2fV+VZd+3hV9pG8OwjK6r+6os68Jry8ov67qw7MIvLKttK7+r68ow27qw3L6wLL/uC8uq277v6rrStXVluX2fsSu38QsAABhwAAAIMKEMFBqyIgCIEwBAEHIOKQahYgpCCKGkEEIqFWNSMuakZM5JKaWUFEpJrWJMSuaclMwxKaGUlkopqYRSWiqlxBRKaS2l1mJKqcVQSmulpNZKSa2llGJMrcUYMSYlc05K5pyUklJrJZXWMucoZQ5K6iCklEoqraTUYuacpA46Kx2E1EoqMZWUYgupxFZKaq2kFGMrMdXUWo4hpRhLSrGVlFptMdXWWqs1YkxK5pyUzDkqJaXWSiqtZc5J6iC01DkoqaTUYiopxco5SR2ElDLIqJSUWiupxBJSia20FGMpqcXUYq4pxRZDSS2WlFosqcTWYoy1tVRTJ6XFklKMJZUYW6y5ttZqDKXEVkqLsaSUW2sx1xZjjqGkFksrsZWUWmy15dhayzW1VGNKrdYWY40x5ZRrrT2n1mJNMdXaWqy51ZZbzLXnTkprpZQWS0oxttZijTHmHEppraQUWykpxtZara3FXEMpsZXSWiypxNhirLXFVmNqrcYWW62ltVprrb3GVlsurdXcYqw9tZRrrLXmWFNtBQAADDgAAASYUAYKDVkJAEQBAADGMMYYhEYpx5yT0ijlnHNSKucghJBS5hyEEFLKnINQSkuZcxBKSSmUklJqrYVSUmqttQIAAAocAAACbNCUWByg0JCVAEAqAIDBcTRNFFXVdX1fsSxRVFXXlW3jVyxNFFVVdm1b+DVRVFXXtW3bFn5NFFVVdmXZtoWiqrqybduybgvDqKqua9uybeuorqvbuq3bui9UXVmWbVu3dR3XtnXd9nVd+Bmzbeu2buu+8CMMR9/4IeTj+3RCCAAAT3AAACqwYXWEk6KxwEJDVgIAGQAAgDFKGYUYM0gxphhjTDHGmAAAgAEHAIAAE8pAoSErAoAoAADAOeecc84555xzzjnnnHPOOeecc44xxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY0wAwE6EA8BOhIVQaMhKACAcAABACCEpKaWUUkoRU85BSSmllFKqFIOMSkoppZRSpBR1lFJKKaWUIqWgpJJSSimllElJKaWUUkoppYw6SimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaVUSimllFJKKaWUUkoppRQAYPLgAACVYOMMK0lnhaPBhYasBAByAwAAhRiDEEJpraRUUkolVc5BKCWUlEpKKZWUUqqYgxBKKqmlklJKKbXSQSihlFBKKSWUUkooJYQQSgmhlFRCK6mEUkoHoYQSQimhhFRKKSWUzkEoIYUOQkmllNRCSB10VFIpIZVSSiklpZQ6CKGUklJLLZVSWkqpdBJSKamV1FJqqbWSUgmhpFZKSSWl0lpJJbUSSkklpZRSSymFVFJJJYSSUioltZZaSqm11lJIqZWUUkqppdRSSiWlkEpKqZSSUmollZRSaiGVlEpJKaTUSimlpFRCSamlUlpKLbWUSkmptFRSSaWUlEpJKaVSSksppRJKSqmllFpJKYWSUkoplZJSSyW1VEoKJaWUUkmptJRSSymVklIBAEAHDgAAAUZUWoidZlx5BI4oZJiAAgAAQABAgAkgMEBQMApBgDACAQAAAADAAAAfAABHARAR0ZzBAUKCwgJDg8MDAAAAAAAAAAAAAACAT2dnUwAEAAAAAAAAAADqnjMlAgAAADzQPmcBAQA="),i&&r("audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq");var u=(new Date).getTime(),s=window.setInterval(function(){var r=(new Date).getTime(),o=r-u>5e3;(!n||o)&&(window.clearInterval(s),t(e))},1)}}(),MIDI===void 0)var MIDI={};if(MIDI.Soundfont===void 0&&(MIDI.Soundfont={}),function(){"use strict";var e=!1;MIDI.loadPlugin=function(t){"function"==typeof t&&(t={callback:t});var o=t.instruments||t.instrument||"acoustic_grand_piano";"object"!=typeof o&&(o=[o]);for(var a=0;o.length>a;a++){var i=o[a];"number"==typeof i&&(o[a]=MIDI.GeneralMIDI.byId[i])}MIDI.soundfontUrl=t.soundfontUrl||MIDI.soundfontUrl||"./soundfont/",MIDI.audioDetect(function(a){var i="";if(i=r[t.api]?t.api:r[window.location.hash.substr(1)]?window.location.hash.substr(1):e&&navigator.requestMIDIAccess?"webmidi":window.webkitAudioContext||window.AudioContext?"webaudio":window.Audio?"audiotag":"flash",n[i]){if(t.targetFormat)var u=t.targetFormat;else var u=a["audio/ogg"]?"ogg":"mp3";MIDI.lang=i,MIDI.supports=a,n[i](u,o,t)}})};var n={};n.webmidi=function(e,n,r){MIDI.loader&&MIDI.loader.message("Web MIDI API..."),MIDI.WebMIDI.connect(r)},n.flash=function(e,n,r){MIDI.loader&&MIDI.loader.message("Flash API..."),DOMLoader.script.add({src:r.soundManagerUrl||"./inc/SoundManager2/script/soundmanager2.js",verify:"SoundManager",callback:function(){MIDI.Flash.connect(n,r)}})},n.audiotag=function(e,n,r){MIDI.loader&&MIDI.loader.message("HTML5 Audio API...");var i=a({items:n,getNext:function(n){DOMLoader.sendRequest({url:MIDI.soundfontUrl+n+"-"+e+".js",onprogress:o,onload:function(e){t(e.responseText),MIDI.loader&&MIDI.loader.update(null,"Downloading",100),i.getNext()}})},onComplete:function(){MIDI.AudioTag.connect(r)}})},n.webaudio=function(e,n,r){MIDI.loader&&MIDI.loader.message("Web Audio API...");var i=a({items:n,getNext:function(n){DOMLoader.sendRequest({url:MIDI.soundfontUrl+n+"-"+e+".js",onprogress:o,onload:function(e){t(e.responseText),MIDI.loader&&MIDI.loader.update(null,"Downloading...",100),i.getNext()}})},onComplete:function(){MIDI.WebAudio.connect(r)}})};var r={webmidi:!0,webaudio:!0,audiotag:!0,flash:!0},t=function(e){var n=document.createElement("script");n.language="javascript",n.type="text/javascript",n.text=e,document.body.appendChild(n)},o=function(e){this.totalSize||(this.totalSize=this.getResponseHeader("Content-Length-Raw")?parseInt(this.getResponseHeader("Content-Length-Raw")):e.total);var n=this.totalSize?Math.round(100*(e.loaded/this.totalSize)):"";MIDI.loader&&MIDI.loader.update(null,"Downloading...",n)},a=function(e){var n={};n.queue=[];for(var r in e.items)e.items.hasOwnProperty(r)&&n.queue.push(e.items[r]);return n.getNext=function(){return n.queue.length?(e.getNext(n.queue.shift()),void 0):e.onComplete()},setTimeout(n.getNext,1),n}}(),MIDI===void 0)var MIDI={};if(function(){"use strict";var e=function(e){MIDI.api=e.api,MIDI.setVolume=e.setVolume,MIDI.programChange=e.programChange,MIDI.noteOn=e.noteOn,MIDI.noteOff=e.noteOff,MIDI.chordOn=e.chordOn,MIDI.chordOff=e.chordOff,MIDI.stopAllNotes=e.stopAllNotes,MIDI.getInput=e.getInput,MIDI.getOutputs=e.getOutputs};(function(){var n=null,r=null,t=MIDI.WebMIDI={api:"webmidi"};t.setVolume=function(e,n){r.send([176+e,7,n])},t.programChange=function(e,n){r.send([192+e,n])},t.noteOn=function(e,n,t,o){r.send([144+e,n,t],1e3*o)},t.noteOff=function(e,n,t){r.send([128+e,n,0],1e3*t)},t.chordOn=function(e,n,t,o){for(var a=0;n.length>a;a++){var i=n[a];r.send([144+e,i,t],1e3*o)}},t.chordOff=function(e,n,t){for(var o=0;n.length>o;o++){var a=n[o];r.send([128+e,a,0],1e3*t)}},t.stopAllNotes=function(){for(var e=0;16>e;e++)r.send([176+e,123,0])},t.getInput=function(){return n.getInputs()},t.getOutputs=function(){return n.getOutputs()},t.connect=function(o){e(t),navigator.requestMIDIAccess().then(function(e){n=e,r=n.outputs()[0],o.callback&&o.callback()},function(){o.api=window.AudioContext||window.webkitAudioContext?"webaudio":window.Audio?"audiotag":"flash",MIDI.loadPlugin(o)})}})(),(window.AudioContext||window.webkitAudioContext)&&function(){var n,r,t=window.AudioContext||window.webkitAudioContext,o=MIDI.WebAudio={api:"webaudio"},a={},i=127,u={},s=function(e,r,t,o,a){var i=MIDI.GeneralMIDI.byName[e],s=i.number,c=r[t];if(!MIDI.Soundfont[e][c])return a(e);var l=MIDI.Soundfont[e][c].split(",")[1],d=Base64Binary.decodeArrayBuffer(l);n.decodeAudioData(d,function(n){for(var l=c;3>l.length;)l+="&nbsp;";if(MIDI.loader!==void 0&&MIDI.loader.update(null,i.instrument+"<br>Processing: "+(100*(t/87)>>0)+"%<br>"+l),n.id=c,o[t]=n,o.length===r.length){for(;o.length;)if(n=o.pop()){var d=MIDI.keyToNote[n.id];u[s+""+d]=n}a(e)}})};o.setVolume=function(e,n){-1===e?r.gain.value=n/127:i=n},o.programChange=function(e,n){MIDI.channels[e].instrument=n},o.noteOn=function(e,t,o,s){if(MIDI.channels[e]){var c=MIDI.channels[e].instrument;if(u[c+""+t]){n.currentTime>s&&(s+=n.currentTime);var l=n.createBufferSource();a[e+""+t]=l,l.buffer=u[c+""+t],l.gainNode=n.createGain?n.createGain():n.createGainNode();var d=2*o/127*(i/127)-1;return l.gainNode.connect(r),l.gainNode.gain.value=Math.max(-1,d),l.connect(l.gainNode),l.noteOn?l.noteOn(s||0):l.start(s||0),l}}},o.noteOff=function(e,r,t){t=t||0,n.currentTime>t&&(t+=n.currentTime);var o=a[e+""+r];if(o){if(o.gainNode){var i=o.gainNode.gain;i.linearRampToValueAtTime(i.value,t),i.linearRampToValueAtTime(-1,t+.2)}o.noteOff?o.noteOff(t+.3):o.stop(t+.3),delete a[e+""+r]}},o.chordOn=function(e,n,r,t){for(var a,i={},u=0,s=n.length;s>u;u++)i[a=n[u]]=o.noteOn(e,a,r,t);return i},o.chordOff=function(e,n,r){for(var t,a={},i=0,u=n.length;u>i;i++)a[t=n[i]]=o.noteOff(e,t,r);return a},o.stopAllNotes=function(){for(var e in a){var r=0;n.currentTime>r&&(r+=n.currentTime),a[e].gain.linearRampToValueAtTime(1,r),a[e].gain.linearRampToValueAtTime(0,r+.2),a[e].noteOff(r+.3),delete a[e]}},o.connect=function(a){e(o),MIDI.Player.ctx=n=new t,r=n.createGain(),r.connect(n.destination),r.gain.value=1;var i=[],u=MIDI.keyToNote;for(var c in u)i.push(c);var l=[],d={},I=function(e){delete d[e];for(var n in d)break;n||a.callback()};for(var A in MIDI.Soundfont){d[A]=!0;for(var f=0;i.length>f;f++)s(A,i,f,l,I)}}}(),window.Audio&&function(){for(var n=MIDI.AudioTag={api:"audiotag"},r={},t=127,o=-1,a=[],i=[],u={},s=0;12>s;s++)a[s]=new Audio;var c=function(e,n){if(MIDI.channels[e]){var r=MIDI.channels[e].instrument,s=MIDI.GeneralMIDI.byId[r].id,n=u[n];if(n){var c=s+""+n.id,l=(o+1)%a.length,d=a[l];i[l]=c,d.src=MIDI.Soundfont[s][n.id],d.volume=t/127,d.play(),o=l}}},l=function(e,n){if(MIDI.channels[e]){var r=MIDI.channels[e].instrument,t=MIDI.GeneralMIDI.byId[r].id,n=u[n];if(n)for(var s=t+""+n.id,c=0;a.length>c;c++){var l=(c+o+1)%a.length,d=i[l];if(d&&d==s)return a[l].pause(),i[l]=null,void 0}}};n.programChange=function(e,n){MIDI.channels[e].instrument=n},n.setVolume=function(e,n){t=n},n.noteOn=function(e,n,t,o){var a=r[n];if(u[a])return o?window.setTimeout(function(){c(e,a)},1e3*o):(c(e,a),void 0)},n.noteOff=function(e,n,t){var o=r[n];if(u[o])return t?setTimeout(function(){l(e,o)},1e3*t):(l(e,o),void 0)},n.chordOn=function(e,n,t,o){for(var a=0;n.length>a;a++){var i=n[a],s=r[i];if(u[s]){if(o)return window.setTimeout(function(){c(e,s)},1e3*o);c(e,s)}}},n.chordOff=function(e,n,t){for(var o=0;n.length>o;o++){var a=n[o],i=r[a];if(u[i]){if(t)return window.setTimeout(function(){l(e,i)},1e3*t);l(e,i)}}},n.stopAllNotes=function(){for(var e=0,n=a.length;n>e;e++)a[e].pause()},n.connect=function(t){for(var o in MIDI.keyToNote)r[MIDI.keyToNote[o]]=o,u[o]={id:o};e(n),t.callback&&t.callback()}}(),function(){var n=MIDI.Flash={api:"flash"},r={},t={};n.programChange=function(e,n){MIDI.channels[e].instrument=n},n.setVolume=function(){},n.noteOn=function(e,n,o,a){if(MIDI.channels[e]){var i=MIDI.channels[e].instrument,u=MIDI.GeneralMIDI.byId[i].number;if(n=u+""+r[n],t[n])return a?window.setTimeout(function(){t[n].play({volume:2*o})},1e3*a):(t[n].play({volume:2*o}),void 0)}},n.noteOff=function(){},n.chordOn=function(e,n,o){if(MIDI.channels[e]){var a=MIDI.channels[e].instrument,i=MIDI.GeneralMIDI.byId[a].number;for(var u in n){var s=n[u],c=i+""+r[s];t[c]&&t[c].play({volume:2*o})}}},n.chordOff=function(){},n.stopAllNotes=function(){},n.connect=function(o,a){soundManager.flashVersion=9,soundManager.useHTML5Audio=!0,soundManager.url=a.soundManagerSwfUrl||"../inc/SoundManager2/swf/",soundManager.useHighPerformance=!0,soundManager.wmode="transparent",soundManager.flashPollingInterval=1,soundManager.debugMode=!1,soundManager.onload=function(){for(var i=function(e,n,r){var o=MIDI.GeneralMIDI.byName[e],a=o.number;t[a+""+n]=soundManager.createSound({id:n,url:MIDI.soundfontUrl+e+"-mp3/"+n+".mp3",multiShot:!0,autoLoad:!0,onload:r})},u=[],s=88,c=o.length*s,l=0;o.length>l;l++)for(var d=o[l],I=function(){u.push(this.sID),void 0!==MIDI.loader&&MIDI.loader.update(null,"Processing: "+this.sID)},A=0;s>A;A++){var f=r[A+21];i(d,f,I)}e(n);var p=window.setInterval(function(){c>u.length||(window.clearInterval(p),a.callback&&a.callback())},25)},soundManager.onerror=function(){};for(var i in MIDI.keyToNote)r[MIDI.keyToNote[i]]=i}}(),MIDI.GeneralMIDI=function(e){var n=function(e){return e.replace(/[^a-z0-9 ]/gi,"").replace(/[ ]/g,"_").toLowerCase()},r={byName:{},byId:{},byCategory:{}};for(var t in e)for(var o=e[t],a=0,i=o.length;i>a;a++){var u=o[a];if(u){var s=parseInt(u.substr(0,u.indexOf(" ")),10);u=u.replace(s+" ",""),r.byId[--s]=r.byName[n(u)]=r.byCategory[n(t)]={id:n(u),instrument:u,number:s,category:t}}}return r}({Piano:["1 Acoustic Grand Piano","2 Bright Acoustic Piano","3 Electric Grand Piano","4 Honky-tonk Piano","5 Electric Piano 1","6 Electric Piano 2","7 Harpsichord","8 Clavinet"],"Chromatic Percussion":["9 Celesta","10 Glockenspiel","11 Music Box","12 Vibraphone","13 Marimba","14 Xylophone","15 Tubular Bells","16 Dulcimer"],Organ:["17 Drawbar Organ","18 Percussive Organ","19 Rock Organ","20 Church Organ","21 Reed Organ","22 Accordion","23 Harmonica","24 Tango Accordion"],Guitar:["25 Acoustic Guitar (nylon)","26 Acoustic Guitar (steel)","27 Electric Guitar (jazz)","28 Electric Guitar (clean)","29 Electric Guitar (muted)","30 Overdriven Guitar","31 Distortion Guitar","32 Guitar Harmonics"],Bass:["33 Acoustic Bass","34 Electric Bass (finger)","35 Electric Bass (pick)","36 Fretless Bass","37 Slap Bass 1","38 Slap Bass 2","39 Synth Bass 1","40 Synth Bass 2"],Strings:["41 Violin","42 Viola","43 Cello","44 Contrabass","45 Tremolo Strings","46 Pizzicato Strings","47 Orchestral Harp","48 Timpani"],Ensemble:["49 String Ensemble 1","50 String Ensemble 2","51 Synth Strings 1","52 Synth Strings 2","53 Choir Aahs","54 Voice Oohs","55 Synth Choir","56 Orchestra Hit"],Brass:["57 Trumpet","58 Trombone","59 Tuba","60 Muted Trumpet","61 French Horn","62 Brass Section","63 Synth Brass 1","64 Synth Brass 2"],Reed:["65 Soprano Sax","66 Alto Sax","67 Tenor Sax","68 Baritone Sax","69 Oboe","70 English Horn","71 Bassoon","72 Clarinet"],Pipe:["73 Piccolo","74 Flute","75 Recorder","76 Pan Flute","77 Blown Bottle","78 Shakuhachi","79 Whistle","80 Ocarina"],"Synth Lead":["81 Lead 1 (square)","82 Lead 2 (sawtooth)","83 Lead 3 (calliope)","84 Lead 4 (chiff)","85 Lead 5 (charang)","86 Lead 6 (voice)","87 Lead 7 (fifths)","88 Lead 8 (bass + lead)"],"Synth Pad":["89 Pad 1 (new age)","90 Pad 2 (warm)","91 Pad 3 (polysynth)","92 Pad 4 (choir)","93 Pad 5 (bowed)","94 Pad 6 (metallic)","95 Pad 7 (halo)","96 Pad 8 (sweep)"],"Synth Effects":["97 FX 1 (rain)","98 FX 2 (soundtrack)","99 FX 3 (crystal)","100 FX 4 (atmosphere)","101 FX 5 (brightness)","102 FX 6 (goblins)","103 FX 7 (echoes)","104 FX 8 (sci-fi)"],Ethnic:["105 Sitar","106 Banjo","107 Shamisen","108 Koto","109 Kalimba","110 Bagpipe","111 Fiddle","112 Shanai"],Percussive:["113 Tinkle Bell","114 Agogo","115 Steel Drums","116 Woodblock","117 Taiko Drum","118 Melodic Tom","119 Synth Drum"],"Sound effects":["120 Reverse Cymbal","121 Guitar Fret Noise","122 Breath Noise","123 Seashore","124 Bird Tweet","125 Telephone Ring","126 Helicopter","127 Applause","128 Gunshot"]}),MIDI.channels=function(){for(var e={},n=0;16>n;n++)e[n]={instrument:0,mute:!1,mono:!1,omni:!1,solo:!1};return e}(),MIDI.pianoKeyOffset=21,MIDI.keyToNote={},MIDI.noteToKey={},function(){for(var e=21,n=108,r=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],t=e;n>=t;t++){var o=(t-12)/12>>0,a=r[t%12]+o;MIDI.keyToNote[a]=t,MIDI.noteToKey[t]=a}}()}(),MIDI===void 0)var MIDI={};if(MIDI.Player===void 0&&(MIDI.Player={}),function(){"use strict";var e=MIDI.Player;e.callback=void 0,e.currentTime=0,e.endTime=0,e.restart=0,e.playing=!1,e.timeWarp=1,e.start=e.resume=function(){-1>e.currentTime&&(e.currentTime=-1),c(e.currentTime)},e.pause=function(){var n=e.restart;l(),e.restart=n},e.stop=function(){l(),e.restart=0,e.currentTime=0},e.addListener=function(e){a=e},e.removeListener=function(){a=void 0},e.clearAnimation=function(){e.interval&&window.clearInterval(e.interval)},e.setAnimation=function(n){var r="function"==typeof n?n:n.callback,t=n.interval||30,a=0,i=0,u=0;e.clearAnimation(),e.interval=window.setInterval(function(){if(0!==e.endTime){e.playing?(a=u===e.currentTime?i-(new Date).getTime():0,a=0===e.currentTime?0:e.currentTime-a,u!==e.currentTime&&(i=(new Date).getTime(),u=e.currentTime)):a=e.currentTime;var n=e.endTime,t=a/1e3,s=t/60,c=t-60*s,l=60*s+c,d=n/1e3;-1>d-l||r({now:l,end:d,events:o})}},t)},e.loadMidiFile=function(){e.replayer=new Replayer(MidiFile(e.currentData),e.timeWarp),e.data=e.replayer.getData(),e.endTime=s()},e.loadFile=function(n,r){if(e.stop(),-1!==n.indexOf("base64,")){var t=window.atob(n.split(",")[1]);return e.currentData=t,e.loadMidiFile(),r&&r(t),void 0}var o=new XMLHttpRequest;o.open("GET",n),o.overrideMimeType("text/plain; charset=x-user-defined"),o.onreadystatechange=function(){if(4===this.readyState&&200===this.status){for(var n=this.responseText||"",t=[],o=n.length,a=String.fromCharCode,i=0;o>i;i++)t[i]=a(255&n.charCodeAt(i));var u=t.join("");e.currentData=u,e.loadMidiFile(),r&&r(u)}},o.send()};var n,r=[],t=0,o={},a=void 0,i=function(r,t,i,u,s,l){var d=window.setTimeout(function(){var u={channel:r,note:t,now:i,end:e.endTime,message:s,velocity:l};128===s?delete o[t]:o[t]=u,a&&a(u),e.currentTime=i,e.currentTime===n&&e.endTime>n&&c(n,!0)},i-u);return d},u=function(){return"WebAudioAPI"===MIDI.lang?MIDI.Player.ctx:(e.ctx||(e.ctx={currentTime:0}),e.ctx)},s=function(){for(var n=e.data,r=n.length,t=.5,o=0;r>o;o++)t+=n[o][1];return t},c=function(o,a){if(e.replayer){a||(o===void 0&&(o=e.restart),e.playing&&l(),e.playing=!0,e.data=e.replayer.getData(),e.endTime=s());var c,d=0,I=0,A=e.data,f=u(),p=A.length;n=.5,t=f.currentTime;for(var m=0;p>m&&100>I;m++)if(n+=A[m][1],o>n)d=n;else{o=n-d;var g=A[m][0].event;if("channel"===g.type){var q=g.channel;switch(g.subtype){case"noteOn":if(MIDI.channels[q].mute)break;c=g.noteNumber-(e.MIDIOffset||0),r.push({event:g,source:MIDI.noteOn(q,g.noteNumber,g.velocity,o/1e3+f.currentTime),interval:i(q,c,n,d,144,g.velocity)}),I++;break;case"noteOff":if(MIDI.channels[q].mute)break;c=g.noteNumber-(e.MIDIOffset||0),r.push({event:g,source:MIDI.noteOff(q,g.noteNumber,o/1e3+f.currentTime),interval:i(q,c,n,d,128)});break;case"programChange":MIDI.programChange(q,g.programNumber);break;default:}}}}},l=function(){var n=u();for(e.playing=!1,e.restart+=1e3*(n.currentTime-t);r.length;){var i=r.pop();window.clearInterval(i.interval),i.source&&("number"==typeof i.source?window.clearTimeout(i.source):i.source.disconnect(0))}for(var s in o){var i=o[s];144===o[s].message&&a&&a({channel:i.channel,note:i.note,now:i.now,end:i.end,message:128,velocity:i.velocity})}o={}}}(),DOMLoader===void 0)var DOMLoader={};if(XMLHttpRequest===void 0){var XMLHttpRequest;(function(){for(var e=[function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],n=0;e.length>n;n++){try{e[n]()}catch(r){continue}break}XMLHttpRequest=e[n]})()}if((new XMLHttpRequest).responseText===void 0){var IEBinaryToArray_ByteStr_Script="<!-- IEBinaryToArray_ByteStr -->\r\n<script type='text/vbscript'>\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr = CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex = LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last = Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last = \"\"\r\n   End If\r\nEnd Function\r\n</script>\r\n";document.write(IEBinaryToArray_ByteStr_Script),DOMLoader.sendRequest=function(e){function n(e){for(var n={},r=0;256>r;r++)for(var t=0;256>t;t++)n[String.fromCharCode(r+256*t)]=String.fromCharCode(r)+String.fromCharCode(t);var o=IEBinaryToArray_ByteStr(e),a=IEBinaryToArray_ByteStr_Last(e);return o.replace(/[\s\S]/g,function(e){return n[e]})+a}var r=XMLHttpRequest();return r.open("GET",e.url,!0),e.responseType&&(r.responseType=e.responseType),e.onerror&&(r.onerror=e.onerror),e.onprogress&&(r.onprogress=e.onprogress),r.onreadystatechange=function(){4===r.readyState&&(200===r.status?r.responseText=n(r.responseBody):r=!1,e.onload&&e.onload(r))},r.setRequestHeader("Accept-Charset","x-user-defined"),r.send(null),r}}else DOMLoader.sendRequest=function(e){var n=new XMLHttpRequest;return n.open(e.data?"POST":"GET",e.url,!0),n.overrideMimeType&&n.overrideMimeType("text/plain; charset=x-user-defined"),e.data&&n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.responseType&&(n.responseType=e.responseType),e.onerror&&(n.onerror=e.onerror),e.onprogress&&(n.onprogress=e.onprogress),n.onreadystatechange=function(r){if(4===n.readyState){if(200!==n.status&&304!=n.status)return e.onerror&&e.onerror(r,!1),void 0;e.onload&&e.onload(n)}},n.send(e.data),n};